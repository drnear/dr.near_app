<ion-view view-title="Edit Profile">
  <ion-nav-bar class="bar-positive" align-title="left">
    <ion-nav-buttons side="left">
      <button class="button button-icon button-clear ion-ios-arrow-back" ui-sref="app.profile"></button>
    </ion-nav-buttons>
  </ion-nav-bar>
  <ion-content>
    <div class="list">
      <label class="item item-input">
        <span class="input-label">Name</span>
        <input type="text" placeholder="Name" ng-model="appctrl.session.username" />
      </label>
      <label class="item item-input">
        <span class="input-label">Icon</span>
        <button class="item item-avatar" style="height:72px;" ng-click="ctrl.selectIcon($event)">
          <img id="icon-image" ng-src="{{appctrl.session.iconurl}}" />
        </button>
        <input id="icon-handler" type="file" style="display:none"
               onchange="angular.element(this).scope().ctrl.uploadIcon(this)"
               />
      </label>
    </div>
    <button class="button button-block button-calm ink"
        data-ink-color="#9DEAFF" data-ink-opacity="1"
        ng-click="ctrl.update()">
        Submit
    </button>
    <div class="list">
      <label class="item item-input">
        <div class="input-label">Diseases</div>
      </label>
    </div>
    <div class="list list-inset">
      <div class="item item-button-right" ng-repeat="item in appctrl.session.diseases">
        {{item.get('name')}}
        <button class="button button-small ink" ng-click="ctrl.delete(item)"><i class="icon ion-ios-minus-outline"></i></button>
      </div>
      <div class="item item-button-right">
        <button class="button button-small ink" ui-sref="app.profedit_diseases"><i class="icon ion-ios-plus-outline"></i></button>
      </div>
    </div>
  </ion-content>
</ion-view>
